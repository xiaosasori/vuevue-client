{"version":3,"sources":["webpack:///./src/components/Posts/Post.vue?a588","webpack:///./src/components/Posts/Post.vue?9651","webpack:///src/components/Posts/Post.vue","webpack:///./src/components/Posts/Post.vue?3d94","webpack:///./src/components/Posts/Post.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_id_63f9d78e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Post_vue_vue_type_style_index_0_id_63f9d78e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","flexbox","center","row","wrap","xs12","hover","_v","_s","getPost","title","large","icon","on","click","handleToggleLike","color","checkIfPostLiked","_id","_e","likes","goToPreviousPage","right","slot","src","imageUrl","id","toggleImageDialog","model","value","callback","$$v","dialog","expression","height","_l","category","index","key","text-color","description","ref","lazy-validation","submit","$event","preventDefault","handleAddPostMessage","isFormValid","rules","messageRules","clearable","append-outer-icon","messageBody","label","type","prepend-icon","required","click:append-outer","subheader","two-line","messages","length","message","avatar","inset","messageUser","username","getTimeFromNow","messageDate","checkIfOwnMessage","staticRenderFns","Postvue_type_script_lang_js_","name","props","data","postLiked","apollo","query","queries","variables","postId","computed","Object","objectSpread","vuex_esm","methods","time","moment_timezone_default","Number","fromNow","userFavorites","some","fave","handleUnlikePost","handleLikePost","_this","user","$apollo","mutate","mutation","update","cache","_ref","likePost","readQuery","writeQuery","then","_ref2","updatedUser","favorites","$store","commit","catch","err","console","error","_this2","_ref3","unlikePost","_ref4","_this3","$refs","form","validate","userId","_ref5","addPostMessage","unshift","_ref6","reset","log","$router","go","window","innerWidth","Posts_Postvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-91f57740.f478b257.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=style&index=0&id=63f9d78e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=style&index=0&id=63f9d78e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.getPost)?_c('v-container',{staticClass:\"mt-3\",attrs:{\"flexbox\":\"\",\"center\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-card',{attrs:{\"hover\":\"\"}},[_c('v-card-title',[_c('h1',[_vm._v(_vm._s(_vm.getPost.title))]),(_vm.user)?_c('v-btn',{attrs:{\"large\":\"\",\"icon\":\"\"},on:{\"click\":_vm.handleToggleLike}},[_c('v-icon',{attrs:{\"large\":\"\",\"color\":_vm.checkIfPostLiked(_vm.getPost._id) ? 'red' : 'grey'}},[_vm._v(\"favorite\")])],1):_vm._e(),_c('h3',{staticClass:\"ml-3 font-weight-thin\"},[_vm._v(_vm._s(_vm.getPost.likes)+\" LIKES\")]),_c('v-spacer'),_c('v-icon',{attrs:{\"color\":\"info\",\"large\":\"\"},on:{\"click\":_vm.goToPreviousPage}},[_vm._v(\"arrow_back\")])],1),_c('v-tooltip',{attrs:{\"right\":\"\"}},[_c('span',[_vm._v(\"Click to enlarge image\")]),_c('v-img',{attrs:{\"slot\":\"activator\",\"src\":_vm.getPost.imageUrl,\"id\":\"post__image\"},on:{\"click\":_vm.toggleImageDialog},slot:\"activator\"})],1),_c('v-dialog',{model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-img',{attrs:{\"src\":_vm.getPost.imageUrl,\"height\":\"80vh\"}})],1)],1),_c('v-card-text',[_vm._l((_vm.getPost.categories),function(category,index){return _c('span',{key:index},[_c('v-chip',{staticClass:\"mb-3\",attrs:{\"color\":\"accent\",\"text-color\":\"white\"}},[_vm._v(_vm._s(category))])],1)}),_c('h3',[_vm._v(_vm._s(_vm.getPost.description))])],2)],1)],1)],1),_c('div',{staticClass:\"mt-3\"},[(_vm.user)?_c('v-layout',{staticClass:\"mb-3\"},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleAddPostMessage($event)}},model:{value:(_vm.isFormValid),callback:function ($$v) {_vm.isFormValid=$$v},expression:\"isFormValid\"}},[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.messageRules,\"clearable\":\"\",\"append-outer-icon\":_vm.messageBody && 'send',\"label\":\"Add Message\",\"type\":\"text\",\"prepend-icon\":\"email\",\"required\":\"\"},on:{\"click:append-outer\":_vm.handleAddPostMessage},model:{value:(_vm.messageBody),callback:function ($$v) {_vm.messageBody=$$v},expression:\"messageBody\"}})],1)],1)],1)],1)],1):_vm._e(),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-list',{attrs:{\"subheader\":\"\",\"two-line\":\"\"}},[_c('v-subheader',[_vm._v(\"Messages (\"+_vm._s(_vm.getPost.messages.length)+\")\")]),_vm._l((_vm.getPost.messages),function(message){return [_c('v-divider',{key:message._id}),_c('v-list-tile',{key:message.title,attrs:{\"avatar\":\"\",\"inset\":\"\"}},[_c('v-list-tile-avatar',[_c('img',{attrs:{\"src\":message.messageUser.avatar}})]),_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(\"\\n                  \"+_vm._s(message.messageBody)+\"\\n                \")]),_c('v-list-tile-sub-title',[_vm._v(\"\\n                  \"+_vm._s(message.messageUser.username)+\"\\n                  \"),_c('span',{staticClass:\"grey--text text--lighten-1 hidden-xs-only\"},[_vm._v(_vm._s(_vm.getTimeFromNow(message.messageDate)))])])],1),_c('v-list-tile-action',{staticClass:\"hidden-xs-only\"},[_c('v-icon',{attrs:{\"color\":_vm.checkIfOwnMessage(message) ? 'accent' : 'grey'}},[_vm._v(\"chat_bubble\")])],1)],1)]})],2)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container v-if=\"getPost\" class=\"mt-3\" flexbox center>\n\n    <!-- Post Card -->\n    <v-layout row wrap>\n      <v-flex xs12>\n        <v-card hover>\n          <v-card-title>\n            <h1>{{getPost.title}}</h1>\n            <v-btn @click=\"handleToggleLike\" large icon v-if=\"user\">\n              <v-icon large :color=\"checkIfPostLiked(getPost._id) ? 'red' : 'grey'\">favorite</v-icon>\n            </v-btn>\n            <h3 class=\"ml-3 font-weight-thin\">{{getPost.likes}} LIKES</h3>\n            <v-spacer></v-spacer>\n            <v-icon @click=\"goToPreviousPage\" color=\"info\" large>arrow_back</v-icon>\n          </v-card-title>\n\n          <v-tooltip right>\n            <span>Click to enlarge image</span>\n            <v-img @click=\"toggleImageDialog\" slot=\"activator\" :src=\"getPost.imageUrl\" id=\"post__image\"></v-img>\n          </v-tooltip>\n\n          <!-- Post Image Dialog -->\n          <v-dialog v-model=\"dialog\">\n            <v-card>\n              <v-img :src=\"getPost.imageUrl\" height=\"80vh\"></v-img>\n            </v-card>\n          </v-dialog>\n\n          <v-card-text>\n            <span v-for=\"(category, index) in getPost.categories\" :key=\"index\">\n              <v-chip class=\"mb-3\" color=\"accent\" text-color=\"white\">{{category}}</v-chip>\n            </span>\n            <h3>{{getPost.description}}</h3>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n    </v-layout>\n\n    <!-- Messages Section -->\n    <div class=\"mt-3\">\n      <!-- Message Input -->\n      <v-layout class=\"mb-3\" v-if=\"user\">\n        <v-flex xs12>\n          <v-form v-model=\"isFormValid\" lazy-validation ref=\"form\" @submit.prevent=\"handleAddPostMessage\">\n            <v-layout row>\n              <v-flex xs12>\n                <v-text-field :rules=\"messageRules\" v-model=\"messageBody\" clearable :append-outer-icon=\"messageBody && 'send'\" label=\"Add Message\" type=\"text\" @click:append-outer=\"handleAddPostMessage\" prepend-icon=\"email\" required></v-text-field>\n              </v-flex>\n            </v-layout>\n          </v-form>\n        </v-flex>\n      </v-layout>\n\n      <!-- Messages -->\n      <v-layout row wrap>\n        <v-flex xs12>\n          <v-list subheader two-line>\n            <v-subheader>Messages ({{getPost.messages.length}})</v-subheader>\n\n            <template v-for=\"message in getPost.messages\">\n              <v-divider :key=\"message._id\"></v-divider>\n\n              <v-list-tile avatar inset :key=\"message.title\">\n                <v-list-tile-avatar>\n                  <img :src=\"message.messageUser.avatar\">\n                </v-list-tile-avatar>\n\n                <v-list-tile-content>\n                  <v-list-tile-title>\n                    {{message.messageBody}}\n                  </v-list-tile-title>\n                  <v-list-tile-sub-title>\n                    {{message.messageUser.username}}\n                    <span class=\"grey--text text--lighten-1 hidden-xs-only\">{{getTimeFromNow(message.messageDate)}}</span>\n                  </v-list-tile-sub-title>\n                </v-list-tile-content>\n\n                <v-list-tile-action class='hidden-xs-only'>\n                  <v-icon :color=\"checkIfOwnMessage(message) ? 'accent' : 'grey'\">chat_bubble</v-icon>\n                </v-list-tile-action>\n\n              </v-list-tile>\n            </template>\n          </v-list>\n        </v-flex>\n      </v-layout>\n\n    </div>\n\n  </v-container>\n</template>\n\n<script>\nimport moment from \"moment-timezone\";\nimport { mapGetters } from \"vuex\";\nimport {\n  GET_POST,\n  ADD_POST_MESSAGE,\n  LIKE_POST,\n  UNLIKE_POST\n} from \"../../queries\";\n\nexport default {\n  name: \"Post\",\n  props: [\"postId\"],\n  data() {\n    return {\n      postLiked: false,\n      dialog: false,\n      messageBody: \"\",\n      isFormValid: true,\n      messageRules: [\n        message => !!message || \"Message is required\",\n        message =>\n          message.length < 75 || \"Message must be less than 75 characters\"\n      ]\n    };\n  },\n  apollo: {\n    getPost: {\n      query: GET_POST,\n      variables() {\n        return {\n          postId: this.postId\n        };\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\"user\", \"userFavorites\"])\n  },\n  methods: {\n    getTimeFromNow(time) {\n      return moment(Number(time)).fromNow();\n    },\n    checkIfPostLiked(postId) {\n      // check if user favorites includes post with id of 'postId'\n      if (\n        this.userFavorites &&\n        this.userFavorites.some(fave => fave._id === postId)\n      ) {\n        this.postLiked = true;\n        return true;\n      } else {\n        this.postLiked = false;\n        return false;\n      }\n    },\n    handleToggleLike() {\n      if (this.postLiked) {\n        this.handleUnlikePost();\n      } else {\n        this.handleLikePost();\n      }\n    },\n    handleLikePost() {\n      const variables = {\n        postId: this.postId,\n        username: this.user.username\n      };\n      this.$apollo\n        .mutate({\n          mutation: LIKE_POST,\n          variables,\n          update: (cache, { data: { likePost } }) => {\n            const data = cache.readQuery({\n              query: GET_POST,\n              variables: { postId: this.postId }\n            });\n            data.getPost.likes += 1;\n            cache.writeQuery({\n              query: GET_POST,\n              variables: { postId: this.postId },\n              data\n            });\n          }\n        })\n        .then(({ data }) => {\n          const updatedUser = {\n            ...this.user,\n            favorites: data.likePost.favorites\n          };\n          this.$store.commit(\"setUser\", updatedUser);\n        })\n        .catch(err => console.error(err));\n    },\n    handleUnlikePost() {\n      const variables = {\n        postId: this.postId,\n        username: this.user.username\n      };\n      this.$apollo\n        .mutate({\n          mutation: UNLIKE_POST,\n          variables,\n          update: (cache, { data: { unlikePost } }) => {\n            const data = cache.readQuery({\n              query: GET_POST,\n              variables: { postId: this.postId }\n            });\n            data.getPost.likes -= 1;\n            cache.writeQuery({\n              query: GET_POST,\n              variables: { postId: this.postId },\n              data\n            });\n          }\n        })\n        .then(({ data }) => {\n          const updatedUser = {\n            ...this.user,\n            favorites: data.unlikePost.favorites\n          };\n          this.$store.commit(\"setUser\", updatedUser);\n        })\n        .catch(err => console.error(err));\n    },\n    handleAddPostMessage() {\n      if (this.$refs.form.validate()) {\n        const variables = {\n          messageBody: this.messageBody,\n          userId: this.user._id,\n          postId: this.postId\n        };\n        this.$apollo\n          .mutate({\n            mutation: ADD_POST_MESSAGE,\n            variables,\n            update: (cache, { data: { addPostMessage } }) => {\n              const data = cache.readQuery({\n                query: GET_POST,\n                variables: { postId: this.postId }\n              });\n              data.getPost.messages.unshift(addPostMessage);\n              cache.writeQuery({\n                query: GET_POST,\n                variables: { postId: this.postId },\n                data\n              });\n            }\n          })\n          .then(({ data }) => {\n            this.$refs.form.reset();\n            console.log(data.addPostMessage);\n          })\n          .catch(err => console.error(err));\n      }\n    },\n    goToPreviousPage() {\n      this.$router.go(-1);\n    },\n    toggleImageDialog() {\n      if (window.innerWidth > 500) {\n        this.dialog = !this.dialog;\n      }\n    },\n    checkIfOwnMessage(message) {\n      return this.user && this.user._id === message.messageUser._id;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#post__image {\n  height: 400px !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=63f9d78e&scoped=true&\"\nimport script from \"./Post.vue?vue&type=script&lang=js&\"\nexport * from \"./Post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Post.vue?vue&type=style&index=0&id=63f9d78e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63f9d78e\",\n  null\n  \n)\n\ncomponent.options.__file = \"Post.vue\"\nexport default component.exports"],"sourceRoot":""}