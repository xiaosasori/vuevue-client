(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f1152"],{"9eb2":function(t,s,e){"use strict";e.r(s);var o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("v-container",{attrs:{fluid:"","grid-list-xl":""}},[t.infiniteScrollPosts?e("v-layout",{attrs:{row:"",wrap:""}},t._l(t.infiniteScrollPosts.posts,function(s){return e("v-flex",{key:s._id,attrs:{xs12:"",sm6:""}},[e("v-card",{attrs:{hover:""}},[e("v-img",{attrs:{src:s.imageUrl,height:"30vh",lazy:""},nativeOn:{click:function(e){t.goToPost(s._id)}}}),e("v-card-actions",[e("v-card-title",{attrs:{primary:""}},[e("div",[e("div",{staticClass:"headline"},[t._v(t._s(s.title))]),e("span",{staticClass:"grey--text"},[t._v(t._s(s.likes)+" likes - "+t._s(s.messages.length)+" comments")])])]),e("v-spacer"),e("v-btn",{attrs:{icon:""},on:{click:function(s){t.showPostCreator=!t.showPostCreator}}},[e("v-icon",[t._v(t._s("keyboard_arrow_"+(t.showPostCreator?"up":"down")))])],1)],1),e("v-slide-y-transition",[e("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.showPostCreator,expression:"showPostCreator"}],staticClass:"grey lighten-4"},[e("v-list-tile",{attrs:{avatar:""}},[e("v-list-tile-avatar",[e("img",{attrs:{src:s.createdBy.avatar}})]),e("v-list-tile-content",[e("v-list-tile-title",{staticClass:"text--primary"},[t._v(t._s(s.createdBy.username))]),e("v-list-tile-sub-title",{staticClass:"font-weight-thin"},[t._v("Added "+t._s(t.formatCreatedDate(s.createdDate)))])],1),e("v-list-tile-action",[e("v-btn",{attrs:{icon:"",ripple:""}},[e("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("info")])],1)],1)],1)],1)],1)],1)],1)}),1):t._e(),t.showMoreEnabled?e("v-layout",{attrs:{column:""}},[e("v-flex",{attrs:{xs12:""}},[e("v-layout",{attrs:{"justify-center":"",row:""}},[e("v-btn",{attrs:{color:"info"},on:{click:t.showMorePosts}},[t._v("Fetch More")])],1)],1)],1):t._e()],1)},i=[],r=e("2909"),a=(e("c5f6"),e("cadf"),e("551c"),e("097d"),e("17fc")),n=e.n(a),l=e("39ff"),c=2,u={name:"Posts",data:function(){return{pageNum:1,showPostCreator:!1}},apollo:{infiniteScrollPosts:{query:l["h"],variables:{pageNum:1,pageSize:c}}},computed:{showMoreEnabled:function(){return this.infiniteScrollPosts&&this.infiniteScrollPosts.hasMore}},methods:{goToPost:function(t){this.$router.push("/posts/".concat(t))},formatCreatedDate:function(t){return n()(Number(t)).format("ll")},showMorePosts:function(){this.pageNum+=1,this.$apollo.queries.infiniteScrollPosts.fetchMore({variables:{pageNum:this.pageNum,pageSize:c},updateQuery:function(t,s){var e=s.fetchMoreResult;console.log("previous result",t.infiniteScrollPosts.posts),console.log("fetch more result",e);var o=e.infiniteScrollPosts.posts,i=e.infiniteScrollPosts.hasMore;return{infiniteScrollPosts:{__typename:t.infiniteScrollPosts.__typename,posts:[].concat(Object(r["a"])(t.infiniteScrollPosts.posts),Object(r["a"])(o)),hasMore:i}}}})}}},v=u,f=e("2877"),h=Object(f["a"])(v,o,i,!1,null,null,null);h.options.__file="Posts.vue";s["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0f1152.a42f2f12.js.map